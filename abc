typ = "y"

function OnDialogRequest()
local var = {}
var[0] = "OnDialogRequest"
var[1] = [[set_default_colour|`O
add_label_with_icon|big|`wSetting``|left|32
add_text_input|Tele|Use Tele (y/n)|]]..typ..[[|3|
end_dialog|set_tele|Cancel|OK|
]]
sendVariant(var,-1,350)
end

function abc()
if typ:find("y") then
    logToConsole("y")
elseif typ:find("n") then
    logToConsole("n")
end
end

function hook(type,pkt)
    if pkt:find("action|input\n|text|") then
        if pkt:find("/set") or pkt:find("/setting") then
            OnDialogRequest()
            return true
        end
    end
end
AddHook("OnTextPacket", "abcd", hook)
