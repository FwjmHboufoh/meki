typ = "y"

funtion OnDialogRequest()
local var = {}
var[0] = "OnDialogRequest"
var[1] = [[set_default_colour|`O
add_label_with_icon|big|`wSetting``|left|32
add_text_input|Tele|Use Tele (y/n)|]]..typ..[[|3|
end_dialog|set_tele|Cancel|OK|
]]
sendVariant(var,-1,350)
end

funtion abc()
if typ:find("y") then
    logToConsole("y")
elseif typ:find("n") then
    logToConsole("n")
end
end

function hook(type,pkt)
    if pkt:find("action|input\n|text|") then
        if pkt:find("/set") or pkt:find("/setting") then
            OnDialogRequest()
            return true
        end
    elseif pkt:find(dialog_name|set_tele) then
        typ = string.lower(pkt:match("\nTele|(%w+)\n"))
        return true
    end
end
AddHoook("OnTextPacket", "abcd", hook)
